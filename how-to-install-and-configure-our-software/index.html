<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How to install and configure our software - DnsAdBlock</title><meta name="description" content="%postexcerpt"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://knowledgebase.dnsadblock.com/how-to-install-and-configure-our-software/"><link rel="alternate" type="application/atom+xml" href="https://knowledgebase.dnsadblock.com/feed.xml"><link rel="alternate" type="application/json" href="https://knowledgebase.dnsadblock.com/feed.json"><meta property="og:title" content="How to install and configure our software"><meta property="og:image" content="https://knowledgebase.dnsadblock.com/media/website/Block-ads-tracking-adult-and-other-unwanted-content.png"><meta property="og:site_name" content="DnsAdBlock Knowledgebase"><meta property="og:description" content="%postexcerpt"><meta property="og:url" content="https://knowledgebase.dnsadblock.com/how-to-install-and-configure-our-software/"><meta property="og:type" content="article"><meta property="fb:app_id" content="150477275973150"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@dnsadblock"><meta name="twitter:title" content="How to install and configure our software"><meta name="twitter:description" content="%postexcerpt"><meta name="twitter:image" content="https://knowledgebase.dnsadblock.com/media/website/Block-ads-tracking-adult-and-other-unwanted-content.png"><link rel="stylesheet" href="https://knowledgebase.dnsadblock.com/assets/css/style.css?v=cb59e73b52be09f3f96f1dbbe27f995d"><link rel="stylesheet" href="https://knowledgebase.dnsadblock.com/assets/css/prism-default.css?v=9744853d64d710edcae61a3d59a17ee2"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://knowledgebase.dnsadblock.com/how-to-install-and-configure-our-software/"},"headline":"How to install and configure our software","datePublished":"2020-03-24T17:41","dateModified":"2020-03-25T03:33","image":{"@type":"ImageObject","url":"https://knowledgebase.dnsadblock.com/media/website/dnsadblock.png","height":625,"width":625},"description":"<p>Follow this guide to learn how to install, configure and run our software for various operating systems. </p>\n","author":{"@type":"Person","name":"Romeo Mihalcea"},"publisher":{"@type":"Organization","name":"Romeo Mihalcea","logo":{"@type":"ImageObject","url":"https://knowledgebase.dnsadblock.com/media/website/dnsadblock.png","height":625,"width":625}}}</script><script async src="https://knowledgebase.dnsadblock.com/assets/js/lazysizes.min.js?v=c7552affa0e5c6badad03286730a82bb"></script></head><body><header class="header" id="js-header"><a class="logo" href="https://knowledgebase.dnsadblock.com/"><img src="https://knowledgebase.dnsadblock.com/media/website/dnsadblock.png" alt="DnsAdBlock Knowledgebase"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li class="active"><a href="https://knowledgebase.dnsadblock.com/how-to-install-and-configure-our-software/" target="_self">Installation</a></li><li><a href="https://knowledgebase.dnsadblock.com/tag/faq/" target="_self">FAQ</a></li></ul></nav></header><main><div class="container container--with-sidebar"><div class="sidebar"><nav class="sidebar__menu"><ul class="js-sidebar-menu"><li class="active has-submenu"><a href="https://knowledgebase.dnsadblock.com/how-to-install-and-configure-our-software/">Installation</a><ul><li><a href="https://knowledgebase.dnsadblock.com/windows-installation-instructions/">Windows</a></li><li><a href="https://knowledgebase.dnsadblock.com/debian-based-distribution-installation/">Ubuntu</a></li><li><a href="https://knowledgebase.dnsadblock.com/debian-based-distribution-installation/">Debian</a></li><li><a href="https://knowledgebase.dnsadblock.com/rpm-based-distribution-installation/">CentOS</a></li><li><a href="https://knowledgebase.dnsadblock.com/ach-based-distribution-installation/">Arch</a></li><li><a href="https://knowledgebase.dnsadblock.com/rpm-based-distribution-installation/">Fedora</a></li><li><a href="https://knowledgebase.dnsadblock.com/rpm-based-distribution-installation/">Redhat</a></li><li><a href="https://knowledgebase.dnsadblock.com/debian-based-distribution-installation/">Raspbian</a></li><li><a href="https://knowledgebase.dnsadblock.com/install-terminal/">NetBSD</a></li><li><a href="https://knowledgebase.dnsadblock.com/install-terminal/">OpenBSD</a></li><li><a href="https://knowledgebase.dnsadblock.com/install-terminal/">DragonFly</a></li><li><a href="https://knowledgebase.dnsadblock.com/install-terminal/">pfSense</a></li><li><a href="https://knowledgebase.dnsadblock.com/install-terminal/">VyOS</a></li><li><a href="https://knowledgebase.dnsadblock.com/install-terminal/">OpenWRT</a></li><li><a href="https://knowledgebase.dnsadblock.com/synology-installation-instructions/">Synology</a></li></ul></li></ul></nav></div><div class="content content--center"><article class="post"><h1>How to install and configure our software</h1><div class="post__entry"><p>Follow this guide to learn how to install, configure and run our software for various operating systems. </p><h2>Windows</h2><p>If you're on Windows please head over to the <strong>Windows installation instructions</strong>.</p><h2>Other OS</h2><p>We support many operating systems and we're constantly adding to our list. If you don't find your OS here please contact us so we can add it.</p><p>To install our software is really easy. You can use our quick installer in your terminal:</p><pre><code class="language-bash">sh -c 'sh -c "$(curl -sL https://api.dnsadblock.com/install)"'</code></pre><p>If you don't want to execute content taken via curl (understandably so) please navigate to our list of supported operating systems. You will have separate guides there for every OS we support.</p><h3>Features</h3><p>Our proxy software has many features but here's the gist:</p><ul><li>Proxies DNS:53 traffic to DNS over HTTPS</li><li>Runs on single host or on router level</li><li>Detection of router and setup</li><li>Detection of captive portals</li></ul><h3>Usage</h3><p>After installing the proxy software you can set it up using the following commands:</p><pre><code class="language-text">Usage: dnsadblock &lt;command&gt; [arguments]

The commands are:

    install         install service on the system
    uninstall       uninstall service from the system
    start           start installed service
    stop            stop installed service
    restart         restart installed service
    status          return service status
    log             show service logs
    run             run the daemon
    config          manage configuration
    activate        setup the system to use NextDNS as a resolver
    deactivate      restore the resolver configuration
    version         show current version</code></pre><strong><code>dnsadblock</code></strong> can run as a daemon or as a service.<p class="msg msg--warning">Most commands require<strong> sudo</strong> because <strong>dnsadblock</strong> will alter your network configuration settings</p><h4>Running as a daemon</h4><p>When running as a daemon you are responsible for managing its process. You can execute <code>dnsadblock run -config someConfigId</code> in your terminal and the process will start and stay up for as long as you have the terminal open. </p><p>The <code>run</code> command supports the following flags:</p><pre><code class="language-text"><strong>-auto-activate</strong>
    Run activate at startup and deactivate on exit.

<strong>-bogus-priv</strong>
    Bogus private reverse lookups.

    All reverse lookups for private IP ranges (ie 192.168.x.x, etc.) are answered
    with "no such domain" rather than being forwarded upstream. The set of prefixes
    affected is the list given in RFC6303, for IPv4 and IPv6. (default true)

<strong>-config</strong> value
    Connection configuration id (from the connections list in your account).

    The configuration id can be prefixed with a match condition for each query:
    * 10.0.3.0/24=abcdef: A CIDR can be used to restrict a configuration to a subnet.
    * 00:1c:42:2e:60:4a=abcdef: A MAC address can be used to restrict configuration
    to a specific host on the LAN.

    This parameter can be repeated. The first match wins.

<strong>-config-file</strong> string
    Custom path to configuration file.

<strong>-forwarder</strong> value
    A DNS server to use for a specified domain.

    Forwarders can be defined to send proxy DNS traffic to an alternative DNS
    upstream resolver for specific domains. The format of this parameter is 
    [DOMAIN=]SERVER_ADDR[,SERVER_ADDR...].

    A SERVER_ADDR can ben either an IP[:PORT] for DNS53 (unencrypted UDP, TCP),
    or a HTTPS URL for a DNS over HTTPS server. For DoH, a bootstrap IP can be
    specified as follows:
        https://dns.google/dns-query#8.8.8.8,2001:4860:4860::8888
        
      Several servers can be specified, separated by comas to implement failover.
    This parameter can be repeated. The first match wins.

<strong>-listen</strong> string
    Listen address for UDP DNS proxy server. (default "localhost:53")

<strong>-log-queries</strong>
    Log DNS query.
    Listen address for UDP DNS proxy server. (default "localhost:53")

<strong>-log-format</strong>
    The output format of the logged queries.
    The supported formats are 'text' and 'json'. The 'json' format is a lot more
    verbose and contains some extra fields as well

<strong>-report-client-info</strong>
    Embed clients information with queries.

<strong>-setup-router</strong>
    Automatically configures itself for a router setup.
    Common types of router are detected to integrate gracefully. Changes applied
    are undone on daemon exit. The listen option is ignored when this option is 
    used.

<strong>-use-hosts</strong>
    Lookup /etc/hosts before sending queries to upstream resolver. (default true)
</code></pre><h4>Running as a service</h4><p>To operate on a <strong><em>set it and forget it</em></strong> type we recommend using the <code>install</code> command. When running as a service use these commands to interact with the OS service management system:</p><p class="msg msg--highlight">The <code>install</code> and <code>config</code> command supports the same flags as the <code>run</code> command</p><ul><li><strong><code>install</code></strong> installs the service</li><li><strong><code>uninstall</code></strong> removes the service</li><li><strong><code>start</code></strong> starts the service (same as <code>run</code>)</li><li><strong><code>stop</code></strong> stops the service</li><li><strong><code>status</code></strong> returns status (<code>running</code> or <code>not running</code>)</li></ul><pre>sudo dnsadblock install -config someConfigId</pre><footer><div class="post__footer"><dl class="post__meta"><dt>Updated:</dt><dd><time datetime="2020-03-25T03:33">March 25, 2020</time></dd></dl><div class="post__share"><button class="post__share-button" aria-label="Share"><svg width="32" height="32"><use xlink:href="https://knowledgebase.dnsadblock.com/assets/svg/svg-map.svg#share"></use></svg></button><div class="post__share-popup"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fknowledgebase.dnsadblock.com%2Fhow-to-install-and-configure-our-software%2F" class="js-share facebook" title="Share with Facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://knowledgebase.dnsadblock.com/assets/svg/svg-map.svg#facebook"/></svg> Facebook </a><a href="https://twitter.com/share?url=https%3A%2F%2Fknowledgebase.dnsadblock.com%2Fhow-to-install-and-configure-our-software%2F&amp;via=dnsadblock&amp;text=How%20to%20install%20and%20configure%20our%20software" class="js-share twitter" title="Share with Twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://knowledgebase.dnsadblock.com/assets/svg/svg-map.svg#twitter"/></svg> Twitter </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fknowledgebase.dnsadblock.com%2Fhow-to-install-and-configure-our-software%2F&amp;title=How%20to%20install%20and%20configure%20our%20software" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://knowledgebase.dnsadblock.com/assets/svg/svg-map.svg#linkedin"/></svg> LinkedIn </a><a href="https://wa.me/?text=How%20to%20install%20and%20configure%20our%20software https%3A%2F%2Fknowledgebase.dnsadblock.com%2Fhow-to-install-and-configure-our-software%2F" class="js-share whatsapp" title="Share with WhatsApp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://knowledgebase.dnsadblock.com/assets/svg/svg-map.svg#whatsapp"/></svg> WhatsApp</a></div></div></div></footer></div></article></div></div></main><footer class="footer"><div><a class="footer__logo" href="https://knowledgebase.dnsadblock.com/"><img src="https://knowledgebase.dnsadblock.com/media/website/dnsadblock.png" alt="DnsAdBlock Knowledgebase"></a></div><div><div class="footer__copy">&copy; dnsadblock.com</div><div class="footer__social"><a href="https://www.facebook.com/dnsadblock" aria-label="Facebook"><svg class="icon" zz="zz"><use xlink:href="https://knowledgebase.dnsadblock.com/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/dnsadblock" aria-label="Twitter"><svg class="icon"><use xlink:href="https://knowledgebase.dnsadblock.com/assets/svg/svg-map.svg#twitter"/></svg></a></div></div></footer><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true
   };</script><script defer="defer" src="https://knowledgebase.dnsadblock.com/assets/js/scripts.min.js?v=7bbda5d0da9e5a1f4b7d59df2a51bdb1"></script><script defer="defer" src="https://knowledgebase.dnsadblock.com/assets/js/prism.js?v=6239ca4269ba0b11f919c3f7ec31aa99"></script><script defer="defer" src="https://knowledgebase.dnsadblock.com/assets/js/prism-line-numbers.min.js?v=13275d3ac10d7028cf6a6f5da276f68c"></script><script defer="defer" src="https://knowledgebase.dnsadblock.com/assets/js/prism-copy-to-clipboard.min.js?v=fabfc3fd9af83cda5208ba2e9f9ed238"></script><script defer="defer" src="https://knowledgebase.dnsadblock.com/assets/js/quicklink.umd.js?v=61daff262ce6be0813e6b1b0341274d4"></script><script>window.addEventListener('load', () =>{
         quicklink();
      });</script></body></html>